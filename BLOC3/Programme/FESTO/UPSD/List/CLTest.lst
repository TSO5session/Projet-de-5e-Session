###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.20.2.41139 for 8051             11/Nov/2014  11:41:10 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  near                                               #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data                                               #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\Libraire\CLTest.cpp                    #
#    Command line       =  C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\Libraire\CLTest.cpp -D UPSD3254A       #
#                          --preprocess=cl C:\Users\1230838\Desktop\PROJETSES #
#                          SION5\BLOC3\Programme\FESTO\UPSD\List\ -lC         #
#                          C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\UPSD\List\ -lA                         #
#                          C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\UPSD\List\ -o                          #
#                          C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\UPSD\Obj\ -e --no_cse --no_unroll      #
#                          --no_inline --no_code_motion --no_tbaa --debug     #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=near --calling_convention=xdata_reent #
#                          rant --place_constants=data --nr_virtual_regs 8    #
#                          --dlib_config "C:\Program Files\IAR                #
#                          Systems\Embedded Workbench                         #
#                          6.4\8051\LIB\DLIB\dl8051Normal.h" -Ol --eec++      #
#    List file          =  C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\UPSD\List\CLTest.lst                   #
#    Object file        =  C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Prog #
#                          ramme\FESTO\UPSD\Obj\CLTest.r51                    #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\1230838\Desktop\PROJETSESSION5\BLOC3\Programme\FESTO\Libraire\CLTest.cpp
      1          #include "_DeclarationGenerale.h"
      2          #include "CLTest.h"
      3          #include "CLInOutBase.h"
      4          #include "CLEcran.h"
      5          //#include "CLHolrlogeIO.h"
      6          //#include "CLHorloge.h"
      7          
      8          //**********Constante***********************************************************
      9          //#define DELAISZERO        2U //constante entiere unsigned 16 bits
     10          //#define ACK               0U
     11          //#define NOACK             1U
     12          //******************************************************************************

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     13          CLTest :: CLTest(void)
   \                     ??CLTest:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
     14          {
   \   000008                ; Setup parameters for call to function CLEcran::CLEcran()
   \   000008   AA82         MOV     R2,DPL
   \   00000A   AB83         MOV     R3,DPH
   \   00000C   12....       LCALL   ??CLEcran
     15          
     16          
     17          }
   \   00000F   AA82         MOV     R2,DPL
   \   000011   AB83         MOV     R3,DPH
   \   000013   D083         POP     DPH
   \   000015   D082         POP     DPL
   \   000017   22           RET
     18          
     19          //******************************************************************************
     20          

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     21          void CLTest :: vControle(void)
   \                     ??vControle:
     22          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     23            //On ajoute les appel de fonction interne losque l on a besoin de fair un test
     24            //vTestEcran();
     25            //vTestHorloge();
     26            
     27          }
   \   000000   22           RET
     28          
     29          //******************************************************************************
     30          
     31          

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     32          void CLTest :: vTestEcran(void)
   \                     ??vTestEcran:
     33          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     34          
     35            clEcran.vLcdClr();
   \   000000                ; Setup parameters for call to function CLEcran::vLcdClr()
   \   000000   02....       LJMP    ??vLcdClr
     36          
     37          }
     38          //******************************************************************************
     39          /*
     40          
     41          void CLTest :: vTestHorloge
     42          {
     43            //initialisation de l horloge
     44            while(1)
     45            { 
     46              //Lecture horloge
     47            }
     48          }
     49          */
     50          //******************************************************************************

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     51          void CLTest :: vDelais(UINT16 usiTemps)
   \                     ??vDelais:
     52          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     53            UINT16 uiCompte;
     54            for(uiCompte=0;uiCompte<usiTemps;uiCompte++);
   \   000000   7800         MOV     R0,#0x0
   \   000002   7900         MOV     R1,#0x0
   \   000004   8008         SJMP    ??vDelais_1
   \                     ??vDelais_2:
   \   000006   E8           MOV     A,R0
   \   000007   2401         ADD     A,#0x1
   \   000009   F8           MOV     R0,A
   \   00000A   E9           MOV     A,R1
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F9           MOV     R1,A
   \                     ??vDelais_1:
   \   00000E   C3           CLR     C
   \   00000F   E8           MOV     A,R0
   \   000010   9C           SUBB    A,R4
   \   000011   E9           MOV     A,R1
   \   000012   9D           SUBB    A,R5
   \   000013   40F1         JC      ??vDelais_2
     55          }
   \   000015   22           RET

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
   \   __near_func __xdata_reentrant CLTest &CLTest::new CLTest()
   \                     `??new CLTest`:
   \   000000   C0..         PUSH    ?V0 + 0
   \   000002   C0..         PUSH    ?V0 + 1
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Setup parameters for call to function operator new(unsigned int)
   \   000004   7A06         MOV     R2,#0x6
   \   000006   7B00         MOV     R3,#0x0
   \   000008   12....       LCALL   `??operator new`
   \   00000B   8A..         MOV     ?V0 + 0,R2
   \   00000D   8B..         MOV     ?V0 + 1,R3
   \   00000F   A8..         MOV     R0,?V0 + 0
   \   000011   A9..         MOV     R1,?V0 + 1
   \   000013   E8           MOV     A,R0
   \   000014   FA           MOV     R2,A
   \   000015   E9           MOV     A,R1
   \   000016   FB           MOV     R3,A
   \   000017   E8           MOV     A,R0
   \   000018   49           ORL     A,R1
   \   000019   600D         JZ      `??new CLTest_1`
   \   00001B                ; Setup parameters for call to function CLTest::CLTest()
   \   00001B   12....       LCALL   ??CLTest
   \   00001E   8A..         MOV     ?V0 + 0,R2
   \   000020   8B..         MOV     ?V0 + 1,R3
   \   000022   AA..         MOV     R2,?V0 + 0
   \   000024   AB..         MOV     R3,?V0 + 1
   \   000026   8004         SJMP    `??new CLTest_2`
   \                     `??new CLTest_1`:
   \   000028   7A00         MOV     R2,#0x0
   \   00002A   7B00         MOV     R3,#0x0
   \                     `??new CLTest_2`:
   \   00002C   D0..         POP     ?V0 + 1
   \   00002E   D0..         POP     ?V0 + 0
   \   000030   22           RET
     56          //******************************************************************************

   Maximum stack usage in bytes:

   ISTACK PSTACK XSTACK Function
   ------ ------ ------ --------
       2      0      0  CLTest::CLTest()
                          2 0 0 -> CLEcran::CLEcran()
       2      0      0  CLTest::new CLTest()
                          2 0 0 -> CLTest::CLTest()
                          2 0 0 -> operator new(unsigned int)
       0      0      0  CLTest::vControle()
       0      0      0  CLTest::vDelais(UINT16)
       0      0      0  CLTest::vTestEcran()
                          0 0 0 -> CLEcran::vLcdClr()


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      24  CLTest::CLTest()
      49  CLTest::new CLTest()
       1  CLTest::vControle()
      22  CLTest::vDelais(UINT16)
       3  CLTest::vTestEcran()

 
 99 bytes in segment NEAR_CODE
 
 99 bytes of CODE memory

Errors: none
Warnings: none
